{% extends 'base.html' %}
{% load static %}

{% block title %}Course Select{% endblock %} 
{% block content %}

    {# the links to other html files #}
    <div class="white-bg prof-select">

      <ul class="navbar">
          <li><a class="bluejobsnav" href="{% url 'landing_page:homepage-student' %}">BlueJobs</a></li>
          <li><a href="{% url 'professor_select:course_select' %}">Professor Select</a></li>
          <li><a href="{% url 'professor_select:course_select' %}">Help </a></li>
          <li><a href="{% url 'professor_select:course_select' %}">Developers </a></li>
          <li><a class="contrast-signout" href="{% url 'landing_page:login' %}">Sign Out</a></li>
      </ul> 

      <div class="gradient-tile"></div>
      <img src="{% static 'profselect_icon.png' %}" class="landing-icon">

      <b>ADDED CLASSES </b><br> <br>
      <a href="{% url 'schedule_maker:reset-schedule' %}">
        Reset Schedule
      </a>
      <br>

      {% for class in added_classes %}
        {{ class }} ({{class.section.day_schedule}} {{class.section.time_schedule}}) <br>
      {% endfor %}  

      <br>

      {% for required in student.required_courses.all %}
      {{ required.course }}
      
      {% if required.preferred_classes %}
      <form method="POST">
        {% csrf_token %}
          <select name="class_select">
            {% for class in required.preferred_classes %}
                <option value="{{ class.pk }}" {% if class in added_classes %}disabled{% endif %}>
                  [{{ class.section }}] {{ class.section.day_schedule }} {{ class.section.time_schedule }} {{class.professor}}
                </option>
            {% endfor %}
          </select>
        &nbsp; &nbsp;
        <button type="submit">Add Class</button>
      </form>

      {% else %}
          <br>You have not selected a professor for {{ required.course }}. 
          
          <a href="{% url 'professor_select:professor_list' required.course.pk %}">Select {{ required.course }} Professors </a>
        {% endif %}
      <br>
      {% endfor %}

      <a href="{% url 'schedule_maker:display-schedule' %}">
        Display Schedule
      </a>
      
    </div>

    <a href="{% url 'schedule_maker:course_select' %}" class="back-arrow-dark">
      <i class="fas fa-arrow-left"></i>
    </a>

    <!-- <div class="title-box">
      <h1 class="homepage-title">Professor Select</h1>
      <p class="homepage-subtitle">Choose a course to select a professor for</p>
      <br>
      <div class="dropdown">
        <table class="table">
          <tbody>
            {% if added_courses %}
              {% for course in added_courses %}
                {% if forloop.counter0|divisibleby:4 %}
                  <tr>
                {% endif %}
                    <td>
                      <strong>{{ course }}</strong><br>
                      <div class="remove-icon-container">
                        <a href="{% url 'professor_select:course_remove' course.pk %}" class="remove-icon"><i class="fas fa-minus"></i></a>
                      </div>
                    </td>
                {% if forloop.counter|divisibleby:4 or forloop.last %}
                  {% if forloop.last %}
                      </tr><tr>
                      <td>
                        <form method="POST">
                          {% csrf_token %}
                          <select name="course_list_select">
                            {% for item in course_selection %}
                              <option value="{{ item }}">{{ item.course_code }}</option>
                            {% endfor %}
                          </select> 
                          <button type="submit">Add Course</button>
                        </form> 
                      </td>
                  {% else %}
                    </tr><tr>
                    {% if forloop.counter|add:1|divisibleby:4 %}
                      <td>
                        <form method="POST">
                          {% csrf_token %}
                          <select name="course_list_select">
                            {% for item in course_selection %}
                              <option value="{{ item }}">{{ item.course_code }}</option>
                            {% endfor %}
                          </select> 
                          <button type="submit">Add Course</button>
                        </form> 
                      </td>
                    {% endif %}
                  {% endif %}
                {% endif %}
              {% endfor %}
            {% else %}
              <tr>
                <td>
                  <form method="POST">
                    {% csrf_token %}
                    <select name="course_list_select">
                      {% for item in course_selection %}
                        <option value="{{ item }}">{{ item.course_code }}</option>
                      {% endfor %}
                    </select> 
                    <button type="submit">Add Course</button>
                  </form> 
                </td>
              </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
    
    <form method="POST">
      {% csrf_token %}
      <select name = "course_list_select">
        {% for course in course_selection %}
          <option value ="{{course}}"> {{course.course_code}} </option>
        {% endfor %}
      </select> 
      <button type="submit">Add Course</button>
    </form> 
    <a href="#"><button> &#8592; </button></a>

    </div> -->
{% endblock %}